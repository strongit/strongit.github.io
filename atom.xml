<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Strong It</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://strongit.github.io/"/>
  <updated>2016-05-13T18:40:16.000Z</updated>
  <id>http://strongit.github.io/</id>
  
  <author>
    <name>Strong It</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Zabbix邮件报警脚本</title>
    <link href="http://strongit.github.io/2016/05/01/zabbix-email/"/>
    <id>http://strongit.github.io/2016/05/01/zabbix-email/</id>
    <published>2016-04-30T16:00:00.000Z</published>
    <updated>2016-05-13T18:40:16.000Z</updated>
    
    <content type="html">&lt;p&gt;Zabbix安装教程请移步 &lt;a href=&quot;http://strongit.blog.51cto.com/10020534/1709616&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Zabbix Install&lt;/a&gt;&lt;br&gt;zabbix邮件报警配置步骤说明：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1、准备一个发送邮件的脚本&lt;/p&gt;
&lt;p&gt;2、修改zabbix配置文件中指定的脚本路径&lt;/p&gt;
&lt;p&gt;3、关联脚本名称&lt;/p&gt;
&lt;p&gt;4、用户设置收件邮箱与报警时间&lt;/p&gt;
&lt;p&gt;5、配置报警触发器&lt;/p&gt;
&lt;p&gt;6、添加多个用户，同时给多个人发邮件&lt;/p&gt;
&lt;p&gt;7、邮件接收测试&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1、发送邮件的脚本&quot;&gt;&lt;a href=&quot;#1、发送邮件的脚本&quot; class=&quot;headerlink&quot; title=&quot;1、发送邮件的脚本&quot;&gt;&lt;/a&gt;1、发送邮件的脚本&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#!/usr/bin/python&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding:utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# author:Strong It&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# send zabbix message by email,usage: ./zabbix_email.py 收件人 标题 邮件内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import smtplib&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import sys&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;import time&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from email.MIMEText import MIMEText&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from email.Header import Header&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from email.utils import parseaddr, formataddr&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;from email import encoders&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;reload(sys)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sys.setdefaultencoding(&lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;current_time=time.strftime(&lt;span class=&quot;string&quot;&gt;&#39;%Y-%m-%d  %H:%M&#39;&lt;/span&gt;,time.localtime(time.time()))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mail_host =&lt;span class=&quot;string&quot;&gt;&#39;smtp.exmail.qq.com&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mail_user =&lt;span class=&quot;string&quot;&gt;&#39;Strong It@*****.com&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mail_&lt;span class=&quot;built_in&quot;&gt;pwd&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&#39;*****&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#地址格式化函数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def _format_addr(s):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name, addr = parseaddr(s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; formataddr(( \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Header(name, &lt;span class=&quot;string&quot;&gt;&#39;utf-8&#39;&lt;/span&gt;).encode(), \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        addr.encode(&lt;span class=&quot;string&quot;&gt;&#39;utf-8&#39;&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; isinstance(addr, unicode) &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; addr))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#发送邮件函数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def send_email( content,mailto, get_sub ):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg = MIMEText( content,_subtype = &lt;span class=&quot;string&quot;&gt;&#39;plain&#39;&lt;/span&gt;, _charset = &lt;span class=&quot;string&quot;&gt;&#39;utf-8&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;#msg = MIMEText(content,_subtype=&#39;plain&#39;,_charset=&#39;gb2312&#39;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg[&lt;span class=&quot;string&quot;&gt;&#39;From&#39;&lt;/span&gt;] = _format_addr(u&lt;span class=&quot;string&quot;&gt;&#39;Zabbix监控 &amp;lt;%s&amp;gt;&#39;&lt;/span&gt; % mail_user)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg[&lt;span class=&quot;string&quot;&gt;&#39;Subject&#39;&lt;/span&gt;] = _format_addr(u&lt;span class=&quot;string&quot;&gt;&#39;报警信息 &amp;lt;%s&amp;gt;&#39;&lt;/span&gt; % get_sub)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    msg[&lt;span class=&quot;string&quot;&gt;&#39;To&#39;&lt;/span&gt;] = &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt;.join( mailto )  &lt;span class=&quot;comment&quot;&gt;#多邮件账号格式用,分开&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    try:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s = smtplib.SMTP_SSL( mail_host, 465)       &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;#s = smtplib.SMTP( mail_host, 25)       &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s.login(mail_user, mail_&lt;span class=&quot;built_in&quot;&gt;pwd&lt;/span&gt; )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s.sendmail(mail_user, mailto,msg.as_string())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s.close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    except Exception as e:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;Exception: &#39;&lt;/span&gt;, e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#注意以下格式对齐&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;title = sys.argv[2]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cont = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;摘要：  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;%s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;时间：  %s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;%(sys.argv[3],current_time)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;to_list = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;         &lt;span class=&quot;string&quot;&gt;&#39;%s&#39;&lt;/span&gt;%(sys.argv[1]),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#发送邮件的日志记录到/tmp/sendmail.log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;with open(&lt;span class=&quot;string&quot;&gt;&#39;/tmp/sendmail_qs.log&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;ab&#39;&lt;/span&gt;) as f:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    f.write(&lt;span class=&quot;string&quot;&gt;&#39;%s  Receive address:  %s Title: %s \n&#39;&lt;/span&gt;%(current_time,sys.argv[1],title))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    send_email( cont, to_list, title)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;脚本名称：zabbix_email.py，使用格式：./zabbix_email.py 收件人 标题 邮件内容&lt;/p&gt;
&lt;h3 id=&quot;2、更改zabbix配置文件的脚本路径&quot;&gt;&lt;a href=&quot;#2、更改zabbix配置文件的脚本路径&quot; class=&quot;headerlink&quot; title=&quot;2、更改zabbix配置文件的脚本路径&quot;&gt;&lt;/a&gt;2、更改zabbix配置文件的脚本路径&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@zabbix alertscripts]&lt;span class=&quot;comment&quot;&gt;# cat /etc/zabbix/zabbix_server.conf |grep AlertScriptsPath&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;### Option: AlertScriptsPath&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# AlertScriptsPath=$&amp;#123;datadir&amp;#125;/zabbix/alertscripts&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AlertScriptsPath=/usr/lib/zabbix/alertscripts&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;3、关联脚本名称&quot;&gt;&lt;a href=&quot;#3、关联脚本名称&quot; class=&quot;headerlink&quot; title=&quot;3、关联脚本名称&quot;&gt;&lt;/a&gt;3、关联脚本名称&lt;/h3&gt;&lt;p&gt;【Administration –&amp;gt; Media types】&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/media-types.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;4、用户设置收件邮箱与报警时间&quot;&gt;&lt;a href=&quot;#4、用户设置收件邮箱与报警时间&quot; class=&quot;headerlink&quot; title=&quot;4、用户设置收件邮箱与报警时间&quot;&gt;&lt;/a&gt;4、用户设置收件邮箱与报警时间&lt;/h3&gt;&lt;p&gt;【Administration –&amp;gt; Users】&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/zabbix-user.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/user-permission.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;5、配置报警触发器&quot;&gt;&lt;a href=&quot;#5、配置报警触发器&quot; class=&quot;headerlink&quot; title=&quot;5、配置报警触发器&quot;&gt;&lt;/a&gt;5、配置报警触发器&lt;/h3&gt;&lt;p&gt;【Configuration –&amp;gt; Actions】&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/zabbix-action.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/action-operation.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;6、添加多个用户，同时给多个人发邮件&quot;&gt;&lt;a href=&quot;#6、添加多个用户，同时给多个人发邮件&quot; class=&quot;headerlink&quot; title=&quot;6、添加多个用户，同时给多个人发邮件&quot;&gt;&lt;/a&gt;6、添加多个用户，同时给多个人发邮件&lt;/h3&gt;&lt;p&gt;【Administration –&amp;gt; Users】&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/multi-user.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;7、接收邮件报警测试&quot;&gt;&lt;a href=&quot;#7、接收邮件报警测试&quot; class=&quot;headerlink&quot; title=&quot;7、接收邮件报警测试&quot;&gt;&lt;/a&gt;7、接收邮件报警测试&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/img/test-email.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;至此，Zabbix邮件告警已完成。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Zabbix安装教程请移步 &lt;a href=&quot;http://strongit.blog.51cto.com/10020534/1709616&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Zabbix Install&lt;/a&gt;&lt;br&gt;zabbix邮件报警配置
    
    </summary>
    
    
      <category term="zabbix" scheme="http://strongit.github.io/tags/zabbix/"/>
    
  </entry>
  
  <entry>
    <title>单节点服务器安装</title>
    <link href="http://strongit.github.io/2016/04/28/rancher-03-Installing-Rancher-Single-Node/"/>
    <id>http://strongit.github.io/2016/04/28/rancher-03-Installing-Rancher-Single-Node/</id>
    <published>2016-04-27T16:00:00.000Z</published>
    <updated>2016-04-28T17:48:20.000Z</updated>
    
    <content type="html">&lt;p&gt;Rancher 使用基于 Docker 容器的部署方式。仅需简单的启动两个容器即可运行。一个容器用于管理 Rancher 服务，其他容器使用代理的方式管理主机或节点。&lt;/p&gt;
&lt;h4 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; title=&quot;需求&quot;&gt;&lt;/a&gt;需求&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;任何支持 Docker 1.10.3 的 Linux 发行版。而 &lt;a href=&quot;http://docs.rancher.com/os/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RancherOS&lt;/a&gt;，Ubuntu，RHEL/CentOS 7 经过了更多测试&lt;/li&gt;
&lt;li&gt;1GB 内存&lt;/li&gt;
&lt;li&gt;MySQL 服务，并且设置 max_connections &amp;gt; 150&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;启动-Rancher-服务器&quot;&gt;&lt;a href=&quot;#启动-Rancher-服务器&quot; class=&quot;headerlink&quot; title=&quot;启动 Rancher 服务器&quot;&gt;&lt;/a&gt;启动 Rancher 服务器&lt;/h4&gt;&lt;p&gt;在安装了 Docker 的服务器上可以很简单的使用命令启动 Rancher 服务&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo docker run &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; --restart=always -p 8080:8080 rancher/server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&quot;RANCHER-UI&quot;&gt;&lt;a href=&quot;#RANCHER-UI&quot; class=&quot;headerlink&quot; title=&quot;RANCHER UI&quot;&gt;&lt;/a&gt;RANCHER UI&lt;/h6&gt;&lt;p&gt;Rancher 的 UI 和 API 将开放 8080 端口。Docker 镜像下载后，还需要 1-2 分钟才可以成功启动并显示页面。&lt;/p&gt;
&lt;p&gt;访问以下地址：&lt;code&gt;http://&amp;lt;SERVER_IP&amp;gt;:8080&lt;/code&gt;，这里&lt;code&gt;&amp;lt;SERVER_IP&amp;gt;&lt;/code&gt;是指运行 Rancher 服务并可用于访问的IP地址。&lt;/p&gt;
&lt;p&gt;一旦 UI 处于启动和运行状态，就可以开始 &lt;a href=&quot;!--￼9--&amp;gt;/rancher/installing-rancher/add-host/&quot;&gt;添加主机&lt;/a&gt; 。主机添加到 Rancher 后，您可以开始添加 &lt;a href=&quot;&quot;&gt;服务&lt;/a&gt; 或 使用 &lt;a href=&quot;&quot;&gt;Rancher catalog&lt;/a&gt; 启动模板。&lt;/p&gt;
&lt;h4 id=&quot;开启活动目录或-OpenLDAP-支持-TLS&quot;&gt;&lt;a href=&quot;#开启活动目录或-OpenLDAP-支持-TLS&quot; class=&quot;headerlink&quot; title=&quot;开启活动目录或 OpenLDAP 支持(TLS)&quot;&gt;&lt;/a&gt;开启活动目录或 OpenLDAP 支持(TLS)&lt;/h4&gt;&lt;p&gt;为了开启 Rancher 活动目录或 OpenLDAP 支持(TLS)，Rancher Server 容器在启动时需要加载证书。您需要在运行 Rancher Server 的 Linux 主机上保存证书。&lt;/p&gt;
&lt;p&gt;启动 Rancher 服务并使用绑定挂载卷的方式加载证书，证书在容器中 &lt;strong&gt;必须&lt;/strong&gt; 使用&lt;code&gt;ca.crt&lt;/code&gt;命名。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo docker run &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; --restart=always -p 8080:8080 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -v /dir_that_contains_the_cert/cert.crt:/ca.crt rancher/server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;您可以通过检查 Rancher Server 容器日志确认&lt;code&gt;ca.crt&lt;/code&gt;已经成功传递给 Rancher。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ docker logs &amp;lt;server_container_id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在日志的开始，会提示证书 &lt;code&gt;ca.crt&lt;/code&gt; 已经添加。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;DEFAULT_CATTLE_RANCHER_COMPOSE_WINDOWS_URL=https://releases.rancher.com/compose/beta/latest/rancher-compose-windows-386.zip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Adding ca.crt to Certs.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Updating certificates &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; /etc/ssl/certs... 1 added, 0 removed; done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Running hooks &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; /etc/ca-certificates/update.d....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;done.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[BOOTSTRAP] Starting Cattle&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;绑定挂载-MYSQL-卷&quot;&gt;&lt;a href=&quot;#绑定挂载-MYSQL-卷&quot; class=&quot;headerlink&quot; title=&quot;绑定挂载 MYSQL 卷&quot;&gt;&lt;/a&gt;绑定挂载 MYSQL 卷&lt;/h4&gt;&lt;p&gt;如果你想将容器内数据库持久化在主机上，可以在启动 Rancher Server 时绑定并挂载 MySQL 卷。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo docker run &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; -v &amp;lt;host_vol&amp;gt;:/var/lib/mysql --restart=always -p 8080:8080 rancher/server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;使用这个命令，数据库将持久化在主机上。如果您是一个已有的 Rancher 容器，请参照我们的 &lt;a href=&quot;&quot;&gt;升级文档&lt;/a&gt; 。&lt;/p&gt;
&lt;h4 id=&quot;使用外部数据库&quot;&gt;&lt;a href=&quot;#使用外部数据库&quot; class=&quot;headerlink&quot; title=&quot;使用外部数据库&quot;&gt;&lt;/a&gt;使用外部数据库&lt;/h4&gt;&lt;p&gt;如果您更希望使用外部数据库运行 Rancher Server ，请参照如下操作连接 Rancher 到数据库。您需要一个已经创建好的数据库，但是不需要创建任何数据库对象，Rancher 将会自动创建所有相关的数据库对象。&lt;/p&gt;
&lt;p&gt;以下环境变量需要通过&lt;code&gt;docker run&lt;/code&gt;命令启动 Rancher Server 来支持外部数据库。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CATTLE_DB_CATTLE_MYSQL_HOST:  数据库实例的主机名或IP地址&lt;/li&gt;
&lt;li&gt;CATTLE_DB_CATTLE_MYSQL_PORT:  3306&lt;/li&gt;
&lt;li&gt;CATTLE_DB_CATTLE_MYSQL_NAME:  数据库名&lt;/li&gt;
&lt;li&gt;CATTLE_DB_CATTLE_USERNAME:  用户名&lt;/li&gt;
&lt;li&gt;CATTLE_DB_CATTLE_PASSWORD:  密码&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;数据库名称和用户必须已经存在，Rancher 不会创建数据库。 &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这是一个用于创建数据库和用户的 SQL 命令。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sql CREATE DATABASE IF NOT EXISTS cattle COLLATE = &lt;span class=&quot;string&quot;&gt;&#39;utf8_general_ci&#39;&lt;/span&gt; CHARACTER SET = &lt;span class=&quot;string&quot;&gt;&#39;utf8&#39;&lt;/span&gt;; GRANT ALL ON cattle.* TO &lt;span class=&quot;string&quot;&gt;&#39;cattle&#39;&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&#39;%&#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&quot;string&quot;&gt;&#39;cattle&#39;&lt;/span&gt;; GRANT ALL ON cattle.* TO &lt;span class=&quot;string&quot;&gt;&#39;cattle&#39;&lt;/span&gt;@&lt;span class=&quot;string&quot;&gt;&#39;localhost&#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&quot;string&quot;&gt;&#39;cattle&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;创建数据库和用户后，使用环境变量启动 Rancher Server。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo docker run &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; --restart=always -p 8080:8080 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; CATTLE_DB_CATTLE_MYSQL_HOST=&amp;lt;hostname or IP of MySQL instance&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; CATTLE_DB_CATTLE_MYSQL_PORT=&amp;lt;port&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; CATTLE_DB_CATTLE_MYSQL_NAME=&amp;lt;Name of Database&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; CATTLE_DB_CATTLE_USERNAME=&amp;lt;Username&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; CATTLE_DB_CATTLE_PASSWORD=&amp;lt;Password&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    rancher/server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;使用-HTTP-代理环境启动-Rancher-Server&quot;&gt;&lt;a href=&quot;#使用-HTTP-代理环境启动-Rancher-Server&quot; class=&quot;headerlink&quot; title=&quot;使用 HTTP 代理环境启动 Rancher Server&quot;&gt;&lt;/a&gt;使用 HTTP 代理环境启动 Rancher Server&lt;/h4&gt;&lt;p&gt;为了使用 HTTP 代理，需要修改 Docker 服务支持代理。在 Rancher Server 启动前，编辑&lt;code&gt;/etc/defalut/docker&lt;/code&gt;文件指定您的代理并重新启动 Docker 服务。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo vi /etc/default/docker&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在这个文件中编辑&lt;code&gt;#export http_proxy=&amp;quot;http://127.0.0.1:3128/&amp;quot;&lt;/code&gt;指向您的代理。保存修改并重新启动Docker服务，每个操作系统重新启动Docker服务的方式是不同的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果您使用 systemd 运行 Docker ，请参照 Docker &lt;a href=&quot;https://docs.docker.com/articles/systemd/#http-proxy&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;文档&lt;/a&gt; 配置 HTTP 代理。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;为了加载 &lt;a href=&quot;&quot;&gt;Rancher catalog&lt;/a&gt; ，需要在启动 Rancher Server 时加载 HTTP 代理的环境变量信息。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo docker run &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; http_proxy=&amp;lt;proxyURL&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; https_proxy=&amp;lt;proxyURL&amp;gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-e&lt;/span&gt; no_proxy=&lt;span class=&quot;string&quot;&gt;&quot;localhost,127.0.0.1&quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    --restart=always -p 8080:8080 rancher/server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;如果不使用 &lt;a href=&quot;&quot;&gt;Rancher catalog&lt;/a&gt; ，则使用正常方式运行启动 Rancher Server 命令。&lt;/p&gt;
&lt;p&gt;在 Rancher 中 &lt;a href=&quot;!--￼10--&amp;gt;/rancher/installing-rancher/add-host/&quot;&gt;添加主机&lt;/a&gt; ，无需使用 HTTP 代理。&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;译者： XiaoBao Zhang&lt;/p&gt;
&lt;p&gt;From： &lt;a href=&quot;http://docs.rancher.com/rancher/installing-rancher/installing-server/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://docs.rancher.com/rancher/installing-rancher/installing-server/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Rancher 使用基于 Docker 容器的部署方式。仅需简单的启动两个容器即可运行。一个容器用于管理 Rancher 服务，其他容器使用代理的方式管理主机或节点。&lt;/p&gt;
&lt;h4 id=&quot;需求&quot;&gt;&lt;a href=&quot;#需求&quot; class=&quot;headerlink&quot; titl
    
    </summary>
    
    
      <category term="rancher" scheme="http://strongit.github.io/tags/rancher/"/>
    
  </entry>
  
  <entry>
    <title>EMOS的安装与使用</title>
    <link href="http://strongit.github.io/2016/04/23/EMOS/"/>
    <id>http://strongit.github.io/2016/04/23/EMOS/</id>
    <published>2016-04-22T16:00:00.000Z</published>
    <updated>2016-04-28T17:37:13.000Z</updated>
    
    <content type="html">&lt;p&gt;EMOS是一个基于CentOS，集成了ExtMail Server全部组件的小型Linux系统，10分钟即可完成安装及配置，成为完备的企业邮局系统。它的诞生将彻底改变邮件系统复杂的安装和配置局面，使只具备基本linux知识的用户就可轻松架设邮局。&lt;/p&gt;
&lt;h2 id=&quot;获取软件&quot;&gt;&lt;a href=&quot;#获取软件&quot; class=&quot;headerlink&quot; title=&quot;获取软件&quot;&gt;&lt;/a&gt;获取软件&lt;/h2&gt;&lt;h3 id=&quot;百度云盘地址：&quot;&gt;&lt;a href=&quot;#百度云盘地址：&quot; class=&quot;headerlink&quot; title=&quot;百度云盘地址：&quot;&gt;&lt;/a&gt;百度云盘地址：&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://pan.baidu.com/s/1nvaSrUh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;EMOS&lt;/a&gt; 访问密码：lcr4&lt;/p&gt;
&lt;h3 id=&quot;yum安装方式：&quot;&gt;&lt;a href=&quot;#yum安装方式：&quot; class=&quot;headerlink&quot; title=&quot;yum安装方式：&quot;&gt;&lt;/a&gt;yum安装方式：&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@emos /]&lt;span class=&quot;comment&quot;&gt;# vi /etc/yum.repos.d/EMOS-Base.repo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# EMOS-Base.repo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Created by ExtMail Dev Team: http://www.extmail.org/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# $Id$&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[EMOS-base]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;name=EMOS-Base&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;baseurl=http://mirror.extmail.org/yum/emos/1.5/os/&lt;span class=&quot;variable&quot;&gt;$basearch&lt;/span&gt;/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpgcheck=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;priority=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;protect=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[EMOS-update]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;name=EMOS-Updates&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;baseurl=http://mirror.extmail.org/yum/emos/1.5/updates/&lt;span class=&quot;variable&quot;&gt;$basearch&lt;/span&gt;/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gpgcheck=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;priority=0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;protect=0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;保存后，然后尝试执行一下yum list 等操作，看看是否已经成功；&lt;/p&gt;
&lt;h2 id=&quot;使用技巧：&quot;&gt;&lt;a href=&quot;#使用技巧：&quot; class=&quot;headerlink&quot; title=&quot;使用技巧：&quot;&gt;&lt;/a&gt;使用技巧：&lt;/h2&gt;&lt;p&gt;安装过程很简单，以下是使用过后觉得可以优化的地方：&lt;/p&gt;
&lt;h3 id=&quot;webmail中设置显示默认域名，不显示ip&quot;&gt;&lt;a href=&quot;#webmail中设置显示默认域名，不显示ip&quot; class=&quot;headerlink&quot; title=&quot;webmail中设置显示默认域名，不显示ip&quot;&gt;&lt;/a&gt;webmail中设置显示默认域名，不显示ip&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@emos /]&lt;span class=&quot;comment&quot;&gt;# vi /var/www/extsuite/extmail/html/default/index.html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;156                 &amp;lt;TD&amp;gt;&amp;lt;%password%&amp;gt;&amp;lt;/TD&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;157                 &amp;lt;TD&amp;gt;&amp;lt;INPUT TYPE=&lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt; class=&lt;span class=&quot;string&quot;&gt;&quot;input_n&quot;&lt;/span&gt; NAME=&lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;&amp;gt;&amp;lt;/TD&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;158         &amp;lt;/TR&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;159         &amp;lt;TR&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160                 &amp;lt;TD&amp;gt;&amp;lt;%domain%&amp;gt;&amp;lt;/TD&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;161                 &amp;lt;TD&amp;gt;&amp;lt;INPUT TYPE=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; class=&lt;span class=&quot;string&quot;&gt;&quot;input_n&quot;&lt;/span&gt; NAME=&lt;span class=&quot;string&quot;&gt;&quot;domain&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;域名&quot;&lt;/span&gt;&amp;gt;&amp;lt;/TD&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;官方wiki&quot;&gt;&lt;a href=&quot;#官方wiki&quot; class=&quot;headerlink&quot; title=&quot;官方wiki&quot;&gt;&lt;/a&gt;官方wiki&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;http://wiki.extmail.org/doku.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Main Page&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.extmail.org/forum/forum-15-1.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;forum&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;EMOS是一个基于CentOS，集成了ExtMail Server全部组件的小型Linux系统，10分钟即可完成安装及配置，成为完备的企业邮局系统。它的诞生将彻底改变邮件系统复杂的安装和配置局面，使只具备基本linux知识的用户就可轻松架设邮局。&lt;/p&gt;
&lt;h2 id=&quot;获
    
    </summary>
    
    
      <category term="Extmail" scheme="http://strongit.github.io/tags/Extmail/"/>
    
  </entry>
  
  <entry>
    <title>First Of My Hexo Blog</title>
    <link href="http://strongit.github.io/2016/04/23/hello-world/"/>
    <id>http://strongit.github.io/2016/04/23/hello-world/</id>
    <published>2016-04-22T16:00:00.000Z</published>
    <updated>2016-05-13T18:48:39.000Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;以上是hexo第一篇默认内容，hexo出自台湾大学生tommy351之手,是由Node.js驱动的一款快速、简单且功能强大的博客框架。Node.js是一个可以快速构建网络服务及应用的平台 ，nvm是Node.js的版本控制工具。&lt;/p&gt;
&lt;h3 id=&quot;安装Hexo&quot;&gt;&lt;a href=&quot;#安装Hexo&quot; class=&quot;headerlink&quot; title=&quot;安装Hexo&quot;&gt;&lt;/a&gt;安装Hexo&lt;/h3&gt;&lt;p&gt;平台：Centos6.5 git1.8&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 安装nvm&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;或&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;或&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ git &lt;span class=&quot;built_in&quot;&gt;clone&lt;/span&gt; https://github.com/creationix/nvm.git ~/.nvm &amp;amp;&amp;amp; &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~/.nvm &amp;amp;&amp;amp; git checkout `git describe --abbrev=0 --tags`&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;export NVM_DIR=&quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$HOME&lt;/span&gt;/.nvm&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; &amp;gt;&amp;gt; ~./bashrc &amp;amp;&amp;amp; &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;[ -s &quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$NVM_DIR&lt;/span&gt;/nvm.sh&lt;span class=&quot;string&quot;&gt;&quot; ] &amp;amp;&amp;amp; . &quot;&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$NVM_DIR&lt;/span&gt;/nvm.sh&lt;span class=&quot;string&quot;&gt;&quot; # This loads nvm&quot;&lt;/span&gt; &amp;gt;&amp;gt; ~./bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 使用Node.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ nvm install v5.10.1 &amp;amp;&amp;amp; nvm &lt;span class=&quot;built_in&quot;&gt;alias&lt;/span&gt; default v5.10.1 &amp;amp;&amp;amp; nvm use 5.10.1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;下面安装hexo及相关插件：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo -g&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-index --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-archive --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-category --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-tag --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-server --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-git --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-heroku --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-rsync --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-openshift --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-renderer-marked@0.2 --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-renderer-stylus@0.2 --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-feed@1 --save&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-generator-sitemap@1 --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;初始化&quot;&gt;&lt;a href=&quot;#初始化&quot; class=&quot;headerlink&quot; title=&quot;初始化&quot;&gt;&lt;/a&gt;初始化&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo init Myblog &lt;span class=&quot;comment&quot;&gt;#初始化 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── _config.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── db.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── node_modules&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── package.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── public&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── scaffolds&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ├── &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ └── themes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new [layout] &amp;lt;title&amp;gt;  &lt;span class=&quot;comment&quot;&gt;#创建新文章，默认layout是post&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;文章摘要&quot;&gt;&lt;a href=&quot;#文章摘要&quot; class=&quot;headerlink&quot; title=&quot;文章摘要&quot;&gt;&lt;/a&gt;文章摘要&lt;/h3&gt;&lt;p&gt;在需要显示摘要的地方添加如下代码即可：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ 以上是摘要&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &amp;lt;!--more--&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ 以下是余下全文&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;文章中插入图片&quot;&gt;&lt;a href=&quot;#文章中插入图片&quot; class=&quot;headerlink&quot; title=&quot;文章中插入图片&quot;&gt;&lt;/a&gt;文章中插入图片&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;链接地址&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;对于hexo，使用本地路径：在/source目录下新建一个img文件夹，将图片放入该文件夹下，插入图片时链接即为/img/图片名称。&lt;/p&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ [root@myou _posts]&lt;span class=&quot;comment&quot;&gt;# tail -6 ../../_config.yml &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;comment&quot;&gt;# Deployment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;comment&quot;&gt;## Docs: https://hexo.io/docs/deployment.html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$   &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$   repo: https://github.com/strongit/strongit.github.io&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$   branch: master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
      <category term="Hexo" scheme="http://strongit.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
